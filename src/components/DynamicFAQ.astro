---
// Dynamic FAQ generator based on app content
export interface Props {
  app: any;
}

const { app } = Astro.props;

// Generate dynamic FAQ based on app data
function generateDynamicFAQ(app: any) {
  const faqs = [];
  
  // Base FAQ questions that apply to all apps
  faqs.push({
    question: `Is this ${app.name} MOD APK safe to use?`,
    answer: `Yes, our ${app.name} MOD APK is thoroughly tested and scanned for malware. It's completely safe to install and use on your Android device.`
  });
  
  faqs.push({
    question: "Do I need to root my device?",
    answer: `No, this ${app.name} MOD APK works on both rooted and non-rooted devices. No root access is required for installation or usage.`
  });
  
  // Category-specific questions
  if (app.category === 'Games') {
    faqs.push({
      question: "Will I get unlimited resources?",
      answer: `Yes, this MOD version of ${app.name} provides unlimited coins, gems, and other in-game resources to enhance your gaming experience.`
    });
    
    faqs.push({
      question: "Are all levels unlocked?",
      answer: `Absolutely! All levels, characters, and premium content are unlocked from the start in this ${app.name} MOD APK.`
    });
  }
  
  if (app.category === 'Music' || app.category === 'Video' || app.category === 'Entertainment') {
    faqs.push({
      question: "Is the premium subscription included?",
      answer: `Yes, this ${app.name} MOD APK includes all premium subscription features unlocked, giving you access to ad-free content and exclusive features.`
    });
    
    faqs.push({
      question: "Can I download content for offline viewing?",
      answer: `Yes, the MOD version allows you to download and save content for offline access, even without a premium subscription.`
    });
  }
  
  if (app.category === 'Productivity' || app.category === 'Photography') {
    faqs.push({
      question: "Are all premium features unlocked?",
      answer: `Yes, all premium tools, filters, and advanced features are unlocked in this ${app.name} MOD APK without any subscription required.`
    });
    
    faqs.push({
      question: "Will there be watermarks on my work?",
      answer: `No, this MOD version removes all watermarks, allowing you to create and export professional content without any branding.`
    });
  }
  
  if (app.category === 'Social') {
    faqs.push({
      question: "Can I access premium features for free?",
      answer: `Yes, this ${app.name} MOD APK unlocks all premium social features, enhanced privacy options, and advanced customization tools.`
    });
  }
  
  // Version-specific questions
  faqs.push({
    question: "Will I receive automatic updates?",
    answer: `You'll need to manually download and install updates from our website when new versions of ${app.name} MOD APK are available.`
  });
  
  faqs.push({
    question: `What's new in version ${app.version}?`,
    answer: `Version ${app.version} includes enhanced performance, improved stability, bug fixes, and new premium features. Check the changelog above for detailed information.`
  });
  
  // Size and compatibility questions
  if (parseInt(app.size) > 100) {
    faqs.push({
      question: "Why is the file size large?",
      answer: `The ${app.size} size includes all premium features, high-quality assets, and additional content that's normally downloaded separately in the original app.`
    });
  }
  
  faqs.push({
    question: `Is my device compatible with ${app.name}?`,
    answer: `This MOD APK requires ${app.requirements}. Most modern Android devices should be compatible with this version.`
  });
  
  return faqs;
}

const dynamicFAQs = generateDynamicFAQ(app);
---

<div class="bg-white dark:bg-gray-800 rounded-2xl p-8 border border-gray-200 dark:border-gray-700">
  <h2 class="text-2xl font-bold text-gray-900 dark:text-white mb-6 flex items-center">
    <svg class="w-6 h-6 mr-3 text-blue-600 dark:text-blue-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
    </svg>
    Frequently Asked Questions
  </h2>
  
  <div class="space-y-6">
    {dynamicFAQs.map((faq, index) => (
      <details class="group border-l-4 border-blue-500 pl-4 transition-all duration-200 hover:border-blue-600">
        <summary class="cursor-pointer font-semibold text-gray-900 dark:text-white mb-2 flex items-center justify-between group-open:text-blue-600 dark:group-open:text-blue-400 transition-colors duration-200">
          <span>{faq.question}</span>
          <svg class="w-5 h-5 transform transition-transform duration-200 group-open:rotate-180" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
          </svg>
        </summary>
        <div class="mt-2 text-gray-600 dark:text-gray-400 leading-relaxed">
          {faq.answer}
        </div>
      </details>
    ))}
  </div>
</div>

<style>
  details[open] summary {
    margin-bottom: 0.5rem;
  }
  
  details summary::-webkit-details-marker {
    display: none;
  }
  
  details summary {
    list-style: none;
  }
</style>